<html>
<header>
	<title>Classroom</title>
	<link href="/resources/css/classroom.css" rel="stylesheet" type="text/css">
</header>
<body>
	{{ nav_bar }}
	{% if not msg == None %}
	<div>
		{{msg}}
	</div>
	{% endif %}
	{{ classrooms }}

  {% if classrooms|length > 0 %}
		<form method="get" action="/classroom">
			<label>Select a Class
				<select name="class">
					<option value=""></option>
					{% for classroom_select in classrooms %}
						<option value="{{ classroom_select.key.urlsafe() }}">
							{{ classroom_select.name }}
						</option>
					{% endfor %}
				</select>
			</label>
			<button>Go!</button>
	  </form>
	{% endif %}

	<form method="post" action="/classroom">
		<h3>Add a new classroom:</h3>
		<label>Name
			<input name="name" type="text">
		</label>
		<button>Create</button>
  </form>

	{% if classroom %}
		<h1>Students</h1>
		{% if students|length > 0 %}
			<section class="clearfix">
			{% for student in students %}
				<!-- TODO: Make this an AJAX request -->
				<form method="post" action="/student">
					<input type="hidden" name="_method" value="delete">
					<div class="student clearfix">
						<p class="name">{{ student.name }}</p>
						<input type="hidden" name="key" value="{{ student.key.urlsafe() }}">
						<input type="submit" value="delete" class="delete-button">
					</div>
				</form>
			{% endfor %}
			</section>
		{% else %}
		<p>No students found!</p>
		{% endif %}

		<h3>Add a Student</h3>
		<!-- TODO: Make this an AJAX request -->
		<form method="post" action="/student">
			<label>Name
				<input name="name" type="text">
			</label>
			<input type="submit">
		</form>

		<form method="post" action="/classroom">
			<input type="hidden" name="_method" value="delete">
			<button>Delete classroom {{ classroom.name }}</button>
		</form>
	{% endif %}
</body>
</html>
